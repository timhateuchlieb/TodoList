import{r as n,c as r,h as t,g as e}from"./p-eeff85e7.js";const i='div{display:flex;align-items:center;justify-content:start}input[type="checkbox"]{margin-right:10px;flex-shrink:0}p{margin:0;line-height:1.5;flex-grow:1}.completed{text-decoration:line-through;color:gray}:host{display:block}';const o=i;const u=class{constructor(t){n(this,t);this.todoCompleted=r(this,"todoCompleted",7);this.task=undefined}handleCheckboxChange(){this.todoCompleted.emit(this.task)}render(){return t("div",{key:"834ba748a110faa50669ff6da0639062a8dd6795"},t("input",{key:"5693a182e91e34bfa1c9d44b0e2ffc759f94d5e4",type:"checkbox",checked:this.task.isChecked,onChange:()=>this.handleCheckboxChange()}),t("p",{key:"5caf2ab9a6140e42fc2b00edfeaccf9740f72d70",class:this.task.isChecked?"completed":""},this.task.taskText))}};u.style=o;class a{constructor(n){this.taskText=n;this.isChecked=false;this.completedAt=undefined}}function f(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var c=(()=>typeof Symbol==="function"&&Symbol.observable||"@@observable")();var v=c;var s=()=>Math.random().toString(36).substring(7).split("").join(".");var l={INIT:`@@redux/INIT${s()}`,REPLACE:`@@redux/REPLACE${s()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s()}`};var d=l;function h(n){if(typeof n!=="object"||n===null)return false;let r=n;while(Object.getPrototypeOf(r)!==null){r=Object.getPrototypeOf(r)}return Object.getPrototypeOf(n)===r||Object.getPrototypeOf(n)===null}function y(n,r,t){if(typeof n!=="function"){throw new Error(f(2))}if(typeof r==="function"&&typeof t==="function"||typeof t==="function"&&typeof arguments[3]==="function"){throw new Error(f(0))}if(typeof r==="function"&&typeof t==="undefined"){t=r;r=void 0}if(typeof t!=="undefined"){if(typeof t!=="function"){throw new Error(f(1))}return t(y)(n,r)}let e=n;let i=r;let o=new Map;let u=o;let a=0;let c=false;function s(){if(u===o){u=new Map;o.forEach(((n,r)=>{u.set(r,n)}))}}function l(){if(c){throw new Error(f(3))}return i}function p(n){if(typeof n!=="function"){throw new Error(f(4))}if(c){throw new Error(f(5))}let r=true;s();const t=a++;u.set(t,n);return function n(){if(!r){return}if(c){throw new Error(f(6))}r=false;s();u.delete(t);o=null}}function b(n){if(!h(n)){throw new Error(f(7))}if(typeof n.type==="undefined"){throw new Error(f(8))}if(typeof n.type!=="string"){throw new Error(f(17))}if(c){throw new Error(f(9))}try{c=true;i=e(i,n)}finally{c=false}const r=o=u;r.forEach((n=>{n()}));return n}function E(n){if(typeof n!=="function"){throw new Error(f(10))}e=n;b({type:d.REPLACE})}function O(){const n=p;return{subscribe(r){if(typeof r!=="object"||r===null){throw new Error(f(11))}function t(){const n=r;if(n.next){n.next(l())}}t();const e=n(t);return{unsubscribe:e}},[v](){return this}}}b({type:d.INIT});const w={dispatch:b,subscribe:p,getState:l,replaceReducer:E,[v]:O};return w}function p(...n){if(n.length===0){return n=>n}if(n.length===1){return n[0]}return n.reduce(((n,r)=>(...t)=>n(r(...t))))}function b(...n){return r=>(t,e)=>{const i=r(t,e);let o=()=>{throw new Error(f(15))};const u={getState:i.getState,dispatch:(n,...r)=>o(n,...r)};const a=n.map((n=>n(u)));o=p(...a)(i.dispatch);return{...i,dispatch:o}}}var E=function n(r){return"@@redux-saga/"+r};var O=E("CANCEL_PROMISE");var w=E("CHANNEL_END");var T=E("IO");var A=E("MATCH");var g=E("MULTICAST");var k=E("SAGA_ACTION");var S=E("SELF_CANCELLATION");var C=E("TASK");var m=E("TASK_CANCEL");var _=E("TERMINATE");var N=E("LOCATION");function j(){return j=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)({}).hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},j.apply(null,arguments)}function L(n,r){if(null==n)return{};var t={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(r.includes(e))continue;t[e]=n[e]}return t}var x=function n(r){return r===null||r===undefined};var I=function n(r){return r!==null&&r!==undefined};var M=function n(r){return typeof r==="function"};var D=function n(r){return typeof r==="string"};var R=Array.isArray;var U=function n(r){return r&&M(r.then)};var P=function n(r){return r&&M(r.next)&&M(r.throw)};var G=function n(r){return r&&(D(r)||W(r)||M(r)||R(r)&&r.every(n))};var q=function n(r){return r&&M(r.take)&&M(r.close)};var K=function n(r){return M(r)&&r.hasOwnProperty("toString")};var W=function n(r){return Boolean(r)&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype};var $=function n(r){return q(r)&&r[g]};var B=function n(r){return function(){return r}};var F=B(true);var H=function n(){};var X=function n(r){return r};var J=function n(r,t){j(r,t);if(Object.getOwnPropertySymbols){Object.getOwnPropertySymbols(t).forEach((function(n){r[n]=t[n]}))}};var z=function n(r,t){var e;return(e=[]).concat.apply(e,t.map(r))};function Q(n,r){var t=n.indexOf(r);if(t>=0){n.splice(t,1)}}function V(n){var r=false;return function(){if(r){return}r=true;n()}}var Y=function n(r){throw r};var Z=function n(r){return{value:r,done:true}};function nn(n,r,t){if(r===void 0){r=Y}if(t===void 0){t="iterator"}var e={meta:{name:t},next:n,throw:r,return:Z,isSagaIterator:true};if(typeof Symbol!=="undefined"){e[Symbol.iterator]=function(){return e}}return e}function rn(n,r){var t=r.sagaStack;console.error(n);console.error(t)}var tn=function n(r){return Array.apply(null,new Array(r))};var en=function n(r){return function(n){return r(Object.defineProperty(n,k,{value:true}))}};var on=function n(r){return r===_};var un=function n(r){return r===m};var an=function n(r){return on(r)||un(r)};function fn(n,r){var t=Object.keys(n);var e=t.length;var i=0;var o;var u=R(n)?tn(e):{};var a={};function f(){if(i===e){o=true;r(u)}}t.forEach((function(n){var t=function t(e,a){if(o){return}if(a||an(e)){r.cancel();r(e,a)}else{u[n]=e;i++;f()}};t.cancel=H;a[n]=t}));r.cancel=function(){if(!o){o=true;t.forEach((function(n){return a[n].cancel()}))}};return a}function cn(n){return{name:n.name||"anonymous",location:vn(n)}}function vn(n){return n[N]}function sn(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++){r[t]=arguments[t]}if(r.length===0){return function(n){return n}}if(r.length===1){return r[0]}return r.reduce((function(n,r){return function(){return n(r.apply(void 0,arguments))}}))}var ln="Channel's Buffer overflow!";var dn=1;var hn=3;var yn=4;function pn(n,r){if(n===void 0){n=10}var t=new Array(n);var e=0;var i=0;var o=0;var u=function r(o){t[i]=o;i=(i+1)%n;e++};var a=function r(){if(e!=0){var i=t[o];t[o]=null;e--;o=(o+1)%n;return i}};var f=function n(){var r=[];while(e){r.push(a())}return r};return{isEmpty:function n(){return e==0},put:function a(c){if(e<n){u(c)}else{var v;switch(r){case dn:throw new Error(ln);case hn:t[i]=c;i=(i+1)%n;o=i;break;case yn:v=2*n;t=f();e=t.length;i=t.length;o=0;t.length=v;n=v;u(c);break}}},take:a,flush:f}}var bn=function n(r){return pn(r,yn)};var En="TAKE";var On="PUT";var wn="ALL";var Tn="RACE";var An="CALL";var gn="CPS";var kn="FORK";var Sn="JOIN";var Cn="CANCEL";var mn="SELECT";var _n="ACTION_CHANNEL";var Nn="CANCELLED";var jn="FLUSH";var Ln="GET_CONTEXT";var xn="SET_CONTEXT";var In=function n(r,t){var e;return e={},e[T]=true,e.combinator=false,e.type=r,e.payload=t,e};function Mn(n,r){if(n===void 0){n="*"}if(G(n)){if(I(r)){console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types")}return In(En,{pattern:n})}if($(n)&&I(r)&&G(r)){return In(En,{channel:n,pattern:r})}if(q(n)){if(I(r)){console.warn("take(channel) takes one argument but two were provided. Second argument is ignored.")}return In(En,{channel:n})}}function Dn(n,r){if(x(r)){r=n;n=undefined}return In(On,{channel:n,action:r})}function Rn(n,r){var t=null;var e;if(M(n)){e=n}else{if(R(n)){t=n[0];e=n[1]}else{t=n.context;e=n.fn}if(t&&D(e)&&M(t[e])){e=t[e]}}return{context:t,fn:e,args:r}}function Un(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++){t[e-1]=arguments[e]}return In(An,Rn(n,t))}function Pn(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++){t[e-1]=arguments[e]}return In(kn,Rn(n,t))}function Gn(n){if(n===void 0){n=S}return In(Cn,n)}function qn(n){if(n===void 0){n=X}for(var r=arguments.length,t=new Array(r>1?r-1:0),e=1;e<r;e++){t[e-1]=arguments[e]}return In(mn,{selector:n,args:t})}function Kn(){var n={};n.promise=new Promise((function(r,t){n.resolve=r;n.reject=t}));return n}var Wn=[];var $n=0;function Bn(n){try{Xn();n()}finally{Jn()}}function Fn(n){Wn.push(n);if(!$n){Xn();zn()}}function Hn(n){try{Xn();return n()}finally{zn()}}function Xn(){$n++}function Jn(){$n--}function zn(){Jn();var n;while(!$n&&(n=Wn.shift())!==undefined){Bn(n)}}var Qn=function n(r){return function(n){return r.some((function(r){return rr(r)(n)}))}};var Vn=function n(r){return function(n){return r(n)}};var Yn=function n(r){return function(n){return n.type===String(r)}};var Zn=function n(r){return function(n){return n.type===r}};var nr=function n(){return F};function rr(n){var r=n==="*"?nr:D(n)?Yn:R(n)?Qn:K(n)?Yn:M(n)?Vn:W(n)?Zn:null;if(r===null){throw new Error("invalid pattern: "+n)}return r(n)}var tr={type:w};var er=function n(r){return r&&r.type===w};function ir(n){if(n===void 0){n=bn()}var r=false;var t=[];function e(e){if(r){return}if(t.length===0){return n.put(e)}var i=t.shift();i(e)}function i(e){if(r&&n.isEmpty()){e(tr)}else if(!n.isEmpty()){e(n.take())}else{t.push(e);e.cancel=function(){Q(t,e)}}}function o(t){if(r&&n.isEmpty()){t(tr);return}t(n.flush())}function u(){if(r){return}r=true;var n=t;t=[];for(var e=0,i=n.length;e<i;e++){var o=n[e];o(tr)}}return{take:i,put:e,flush:o,close:u}}function or(){var n;var r=false;var t=[];var e=t;var i=function n(){if(e!==t){return}e=t.slice()};var o=function n(){r=true;var i=t=e;e=[];i.forEach((function(n){n(tr)}))};return n={},n[g]=true,n.put=function n(i){if(r){return}if(er(i)){o();return}var u=t=e;for(var a=0,f=u.length;a<f;a++){var c=u[a];if(c[A](i)){c.cancel();c(i)}}},n.take=function n(t,o){if(o===void 0){o=nr}if(r){t(tr);return}t[A]=o;i();e.push(t);t.cancel=V((function(){i();Q(e,t)}))},n.close=o,n}function ur(){var n=or();var r=n.put;n.put=function(n){if(n[k]){r(n);return}Fn((function(){r(n)}))};return n}var ar=0;var fr=1;var cr=2;var vr=3;function sr(n,r){var t=n[O];if(M(t)){r.cancel=t}n.then(r,(function(n){r(n,true)}))}var lr=0;var dr=function(){return++lr};var hr;function yr(n,r){if(n.isSagaIterator){return{name:n.meta.name}}return cn(r)}function pr(n){var r=n.context,t=n.fn,e=n.args;try{var i=t.apply(r,e);if(P(i)){return i}var o=false;var u=function n(r){if(!o){o=true;return{value:i,done:!U(i)}}else{return{value:r,done:true}}};return nn(u)}catch(n){return nn((function(){throw n}))}}function br(n,r,t){var e=r.channel,i=r.action,o=r.resolve;Fn((function(){var r;try{r=(e?e.put:n.dispatch)(i)}catch(n){t(n,true);return}if(o&&U(r)){sr(r,t)}else{t(r)}}))}function Er(n,r,t){var e=r.channel,i=e===void 0?n.channel:e,o=r.pattern,u=r.maybe;var a=function n(r){if(r instanceof Error){t(r,true);return}if(er(r)&&!u){t(_);return}t(r)};try{i.take(a,I(o)?rr(o):null)}catch(n){t(n,true);return}t.cancel=a.cancel}function Or(n,r,t,e){var i=r.context,o=r.fn,u=r.args;var a=e.task;try{var f=o.apply(i,u);if(U(f)){sr(f,t);return}if(P(f)){Hr(n,f,a.context,lr,cn(o),false,t);return}t(f)}catch(n){t(n,true)}}function wr(n,r,t){var e=r.context,i=r.fn,o=r.args;try{var u=function n(r,e){if(x(r)){t(e)}else{t(r,true)}};i.apply(e,o.concat(u));if(u.cancel){t.cancel=u.cancel}}catch(n){t(n,true)}}function Tr(n,r,t,e){var i=r.context,o=r.fn,u=r.args,a=r.detached;var f=e.task;var c=pr({context:i,fn:o,args:u});var v=yr(c,o);Hn((function(){var r=Hr(n,c,f.context,lr,v,a,undefined);if(a){t(r)}else{if(r.isRunning()){f.queue.addTask(r);t(r)}else if(r.isAborted()){f.queue.abort(r.error())}else{t(r)}}}))}function Ar(n,r,t,e){var i=e.task;var o=function n(r,t){if(r.isRunning()){var e={task:i,cb:t};t.cancel=function(){if(r.isRunning())Q(r.joiners,e)};r.joiners.push(e)}else{if(r.isAborted()){t(r.error(),true)}else{t(r.result())}}};if(R(r)){if(r.length===0){t([]);return}var u=fn(r,t);r.forEach((function(n,r){o(n,u[r])}))}else{o(r,t)}}function gr(n){if(n.isRunning()){n.cancel()}}function kr(n,r,t,e){var i=e.task;if(r===S){gr(i)}else if(R(r)){r.forEach(gr)}else{gr(r)}t()}function Sr(n,r,t,e){var i=e.digestEffect;var o=lr;var u=Object.keys(r);if(u.length===0){t(R(r)?[]:{});return}var a=fn(r,t);u.forEach((function(n){i(r[n],o,a[n],n)}))}function Cr(n,r,t,e){var i=e.digestEffect;var o=lr;var u=Object.keys(r);var a=R(r)?tn(u.length):{};var f={};var c=false;u.forEach((function(n){var r=function r(e,i){if(c){return}if(i||an(e)){t.cancel();t(e,i)}else{t.cancel();c=true;a[n]=e;t(a)}};r.cancel=H;f[n]=r}));t.cancel=function(){if(!c){c=true;u.forEach((function(n){return f[n].cancel()}))}};u.forEach((function(n){if(c){return}i(r[n],o,f[n],n)}))}function mr(n,r,t){var e=r.selector,i=r.args;try{var o=e.apply(void 0,[n.getState()].concat(i));t(o)}catch(n){t(n,true)}}function _r(n,r,t){var e=r.pattern,i=r.buffer;var o=ir(i);var u=rr(e);var a=function r(t){if(!er(t)){n.channel.take(r,u)}o.put(t)};var f=o.close;o.close=function(){a.cancel();f()};n.channel.take(a,u);t(o)}function Nr(n,r,t,e){var i=e.task;t(i.isCancelled())}function jr(n,r,t){r.flush(t)}function Lr(n,r,t,e){var i=e.task;t(i.context[r])}function xr(n,r,t,e){var i=e.task;J(i.context,r);t()}var Ir=(hr={},hr[En]=Er,hr[On]=br,hr[wn]=Sr,hr[Tn]=Cr,hr[An]=Or,hr[gn]=wr,hr[kn]=Tr,hr[Sn]=Ar,hr[Cn]=kr,hr[mn]=mr,hr[_n]=_r,hr[Nn]=Nr,hr[jn]=jr,hr[Ln]=Lr,hr[xn]=xr,hr);function Mr(n,r,t){var e=[];var i;var o=false;f(n);var u=function n(){return e};function a(n){r();c();t(n,true)}function f(r){e.push(r);r.cont=function(u,f){if(o){return}Q(e,r);r.cont=H;if(f){a(u)}else{if(r===n){i=u}if(!e.length){o=true;t(i)}}}}function c(){if(o){return}o=true;e.forEach((function(n){n.cont=H;n.cancel()}));e=[]}return{addTask:f,cancelAll:c,abort:a,getTasks:u}}function Dr(n,r){return n+"?"+r}function Rr(n){var r=vn(n);if(r){var t=r.code,e=r.fileName,i=r.lineNumber;var o=t+"  "+Dr(e,i);return o}return""}function Ur(n){var r=n.name,t=n.location;if(t){return r+"  "+Dr(t.fileName,t.lineNumber)}return r}function Pr(n){var r=z((function(n){return n.cancelledTasks}),n);if(!r.length){return""}return["Tasks cancelled due to error:"].concat(r).join("\n")}var Gr=null;var qr=[];var Kr=function n(r){r.crashedEffect=Gr;qr.push(r)};var Wr=function n(){Gr=null;qr.length=0};var $r=function n(r){Gr=r};var Br=function n(){var r=qr[0],t=qr.slice(1);var e=r.crashedEffect?Rr(r.crashedEffect):null;var i="The above error occurred in task "+Ur(r.meta)+(e?" \n when executing effect "+e:"");return[i].concat(t.map((function(n){return"    created by "+Ur(n.meta)})),[Pr(qr)]).join("\n")};function Fr(n,r,t,e,i,o,u){var a;if(u===void 0){u=H}var f=ar;var c;var v;var s=null;var l=[];var d=Object.create(t);var h=Mr(r,(function n(){l.push.apply(l,h.getTasks().map((function(n){return n.meta.name})))}),p);function y(){if(f===ar){f=fr;h.cancelAll();p(m,false)}}function p(r,t){if(!t){if(r===m){f=fr}else if(f!==fr){f=vr}c=r;s&&s.resolve(r)}else{f=cr;Kr({meta:i,cancelledTasks:l});if(O.isRoot){var e=Br();Wr();n.onError(r,{sagaStack:e})}v=r;s&&s.reject(r)}O.cont(r,t);O.joiners.forEach((function(n){n.cb(r,t)}));O.joiners=null}function b(n){J(d,n)}function E(){if(s){return s.promise}s=Kn();if(f===cr){s.reject(v)}else if(f!==ar){s.resolve(c)}return s.promise}var O=(a={},a[C]=true,a.id=e,a.meta=i,a.isRoot=o,a.context=d,a.joiners=[],a.queue=h,a.cancel=y,a.cont=u,a.end=p,a.setContext=b,a.toPromise=E,a.isRunning=function n(){return f===ar},a.isCancelled=function n(){return f===fr||f===ar&&r.status===fr},a.isAborted=function n(){return f===cr},a.result=function n(){return c},a.error=function n(){return v},a);return O}function Hr(n,r,t,e,i,o,u){var a=n.finalizeRunEffect(d);l.cancel=H;var f={meta:i,cancel:s,status:ar};var c=Fr(n,f,t,e,i,o,u);var v={task:c,digestEffect:h};function s(){if(f.status===ar){f.status=fr;l(m)}}if(u){u.cancel=c.cancel}l();return c;function l(n,t){try{var i;if(t){i=r.throw(n);Wr()}else if(un(n)){f.status=fr;l.cancel();i=M(r.return)?r.return(m):{done:true,value:m}}else if(on(n)){i=M(r.return)?r.return():{done:true}}else{i=r.next(n)}if(!i.done){h(i.value,e,l)}else{if(f.status!==fr){f.status=vr}f.cont(i.value)}}catch(n){if(f.status===fr){throw n}f.status=cr;f.cont(n,true)}}function d(r,t,e){if(U(r)){sr(r,e)}else if(P(r)){Hr(n,r,c.context,t,i,false,e)}else if(r&&r[T]){var o=Ir[r.type];o(n,r.payload,e,v)}else{e(r)}}function h(r,t,e,i){if(i===void 0){i=""}var o=dr();n.sagaMonitor&&n.sagaMonitor.effectTriggered({effectId:o,parentEffectId:t,label:i,effect:r});var u;function f(t,i){if(u){return}u=true;e.cancel=H;if(n.sagaMonitor){if(i){n.sagaMonitor.effectRejected(o,t)}else{n.sagaMonitor.effectResolved(o,t)}}if(i){$r(r)}e(t,i)}f.cancel=H;e.cancel=function(){if(u){return}u=true;f.cancel();f.cancel=H;n.sagaMonitor&&n.sagaMonitor.effectCancelled(o)};a(r,o,f)}}function Xr(n,r){var t=n.channel,e=t===void 0?ur():t,i=n.dispatch,o=n.getState,u=n.context,a=u===void 0?{}:u,f=n.sagaMonitor,c=n.effectMiddlewares,v=n.onError,s=v===void 0?rn:v;for(var l=arguments.length,d=new Array(l>2?l-2:0),h=2;h<l;h++){d[h-2]=arguments[h]}var y=r.apply(void 0,d);var p=dr();if(f){f.rootSagaStarted=f.rootSagaStarted||H;f.effectTriggered=f.effectTriggered||H;f.effectResolved=f.effectResolved||H;f.effectRejected=f.effectRejected||H;f.effectCancelled=f.effectCancelled||H;f.actionDispatched=f.actionDispatched||H;f.rootSagaStarted({effectId:p,saga:r,args:d})}var b;if(c){var E=sn.apply(void 0,c);b=function n(r){return function(n,t,e){var i=function n(i){return r(i,t,e)};return E(i)(n)}}}else{b=X}var O={channel:e,dispatch:en(i),getState:o,sagaMonitor:f,onError:s,finalizeRunEffect:b};return Hn((function(){var n=Hr(O,y,a,p,cn(r),true,undefined);if(f){f.effectResolved(p,n)}return n}))}function Jr(n){var r=n===void 0?{}:n,t=r.context,e=t===void 0?{}:t,i=r.channel,o=i===void 0?ur():i,u=r.sagaMonitor,a=L(r,["context","channel","sagaMonitor"]);var f;function c(n){var r=n.getState,t=n.dispatch;f=Xr.bind(null,j({},a,{context:e,channel:o,dispatch:t,getState:r,sagaMonitor:u}));return function(n){return function(r){if(u&&u.actionDispatched){u.actionDispatched(r)}var t=n(r);o.put(r);return t}}}c.run=function(){return f.apply(void 0,arguments)};c.setContext=function(n){J(e,n)};return c}const zr="ADD_TODO";const Qr="TOGGLE_TODO";const Vr="UPDATE_NEW_TASK_TEXT";const Yr="TOGGLE_DARK_MODE";const Zr="DELETE_TODO";const nt="UPDATE_ACCORDING_TO_LOCAL_STORAGE";const rt="UPDATE_ACCORDING_TO_LOCAL_STORAGE_ERROR";const tt="UPDATE_ACCORDING_TO_LOCAL_STORAGE_SUCCESS";const et={todos:[],newTaskText:"",darkMode:localStorage.getItem("darkMode")==="true"};function it(n=et,r){switch(r.type){case zr:return Object.assign(Object.assign({},n),{todos:[...n.todos,r.payload],newTaskText:""});case Qr:return Object.assign(Object.assign({},n),{todos:n.todos.map((n=>n.taskText===r.payload.taskText?Object.assign(Object.assign({},n),{isChecked:!n.isChecked,completedAt:!n.isChecked?Date.now():undefined}):n))});case Vr:return Object.assign(Object.assign({},n),{newTaskText:r.payload});case Yr:return Object.assign(Object.assign({},n),{darkMode:!n.darkMode});case Zr:return Object.assign(Object.assign({},n),{todos:n.todos.filter((n=>n.taskText!==r.payload.taskText))});case tt:document.documentElement.classList.toggle("darkMode",r.payload.darkMode);return Object.assign(Object.assign({},n),{todos:r.payload.todos});case rt:return Object.assign({},et);default:return n}}var ot=function n(r){return{done:true,value:r}};var ut={};function at(n){if(q(n)){return"channel"}if(K(n)){return String(n)}if(M(n)){return n.name}return String(n)}function ft(n,r,t){var e,i,o,u=r;function a(r,t){if(u===ut){return ot(r)}if(t&&!i){u=ut;throw t}else{e&&e(r);var a=t?n[i](t):n[u]();u=a.nextState;o=a.effect;e=a.stateUpdater;i=a.errorState;return u===ut?ot(r):o}}return nn(a,(function(n){return a(null,n)}),t)}function ct(n,r){for(var t=arguments.length,e=new Array(t>2?t-2:0),i=2;i<t;i++){e[i-2]=arguments[i]}var o={done:false,value:Mn(n)};var u=function n(t){return{done:false,value:Pn.apply(void 0,[r].concat(e,[t]))}};var a=function n(r){return{done:false,value:Gn(r)}};var f,c;var v=function n(r){return f=r};var s=function n(r){return c=r};return ft({q1:function n(){return{nextState:"q2",effect:o,stateUpdater:s}},q2:function n(){return f?{nextState:"q3",effect:a(f)}:{nextState:"q1",effect:u(c),stateUpdater:v}},q3:function n(){return{nextState:"q1",effect:u(c),stateUpdater:v}}},"q1","takeLatest("+at(n)+", "+r.name+")")}function vt(n,r){for(var t=arguments.length,e=new Array(t>2?t-2:0),i=2;i<t;i++){e[i-2]=arguments[i]}return Pn.apply(void 0,[ct,n,r].concat(e))}const st=()=>Lt.getState();function lt(){return st()}function dt(){return st().darkMode}function ht(){return st().todos}function yt(){return st().newTaskText}function*pt(){const n=yield qn(lt);localStorage.setItem("todoState",JSON.stringify(n.todos))}function*bt(n){localStorage.setItem("darkMode",n.toString())}function*Et(n){let r=n;document.documentElement.classList.toggle("darkMode",r)}const Ot=n=>({type:zr,payload:n});const wt=n=>({type:Qr,payload:n});const Tt=n=>({type:Yr,payload:n});const At=()=>({type:nt});const gt=()=>({type:rt});const kt=n=>({type:tt,payload:n});function*St(){if(localStorage.getItem("todoState")&&localStorage.getItem("darkMode")){const n=localStorage.getItem("todoState");const r=localStorage.getItem("darkMode")==="true";yield Dn(kt({todos:JSON.parse(n),darkMode:r}))}else{yield Dn(gt())}}function*Ct(){yield vt([zr,Qr],mt);yield vt(Yr,_t);yield vt(nt,Nt)}function*mt(){yield Un(pt)}function*_t(n){const r=n.payload;yield Un(Et,r);yield Un(bt,r)}function*Nt(){yield Un(St)}const jt=Jr();const Lt=y(it,b(jt));jt.run(Ct);const xt=".todo-list{max-width:600px;margin:0 auto;padding:20px}";const It=xt;const Mt=class{constructor(r){n(this,r);this.unsubscribe=null;this.tasks=[];this.darkMode=false;this.newTaskText=""}componentWillLoad(){Lt.dispatch(At());this.syncWithStore();this.unsubscribe=Lt.subscribe((()=>{this.syncWithStore()}))}syncWithStore(){const n=ht();const r=dt();const t=yt();if(this.tasks!==n){this.tasks=n}if(this.darkMode!==r){this.darkMode=r}if(this.newTaskText!==t){this.newTaskText=t}}toggleDarkMode(){let n=!this.darkMode;Lt.dispatch(Tt(n))}disconnectedCallback(){if(this.unsubscribe){this.unsubscribe()}}handleFormSubmit(n){n.preventDefault();if(this.newTaskText.trim()){const n=new a(this.newTaskText);Lt.dispatch(Ot(n))}}handleTaskUpdated(n){const r=n.detail;Lt.dispatch(wt(r))}handleInputChange(n){const r=n.target;Lt.dispatch({type:"UPDATE_NEW_TASK_TEXT",payload:r.value})}render(){return t("div",{key:"327b2760d7ab605c5a763a692fe8dbaf705101ba",class:this.darkMode?"dark":"light"},t("button",{key:"c823fbbf8c4b89f448dca7dc33ee68e3e72eba02",onClick:()=>this.toggleDarkMode()},this.darkMode?"Light Mode":"Dark Mode"),t("h1",{key:"65429fd0d6cf1b63dccbc4873e6eda24c8357cc4"},"To-Do List"),t("p",{key:"8799348377c63f61c7966b82f27d4209ca71a5a6"},"Tasks left: ",this.tasks.filter((n=>!n.isChecked)).length),t("form",{key:"f04a5b5b7f12c95a8a67b2ace7f185ac2d091c48",onSubmit:n=>this.handleFormSubmit(n)},t("input",{key:"443c9ad5aa8f464ecf876ea65f362d237adcead6",type:"text",value:this.newTaskText,onInput:n=>this.handleInputChange(n),placeholder:"Add a new task",required:true}),t("button",{key:"eda02e610c6b750db716506680f2685d00bcd6ba",type:"submit"},"Add")),t("ul",{key:"1d90e2aeaa2f0f924f25a4f64325f678ef4d68f8"},this.tasks.map((n=>t("todo-item",{task:n,onTodoCompleted:n=>this.handleTaskUpdated(n)})))))}get hostElement(){return e(this)}};Mt.style=It;export{u as todo_item,Mt as todo_list};
//# sourceMappingURL=p-1820ce70.entry.js.map